/* ---------------------------------------------------- */
/*  Generated by Enterprise Architect Version 13.0 		*/
/*  Created On : 02-Oct-2017 12:13:25 PM 				*/
/*  DBMS       : MySql 						*/
/* ---------------------------------------------------- */

SET FOREIGN_KEY_CHECKS=0 
;

/* Drop Tables */

DROP TABLE IF EXISTS `motives` CASCADE
;

/* Create Tables */

CREATE TABLE `motives`
(
	`id` INT NOT NULL AUTO_INCREMENT,
	`name` VARCHAR(50) NULL,
	`points` INT NULL,
	`id_category` INT NULL,
	`level` INT NULL,
	`id_role` INT NULL,
	`public` TINYINT NOT NULL DEFAULT 0,
	CONSTRAINT `PK_motives` PRIMARY KEY (`id` ASC)
)
COMMENT = 'Posibles motivos para agregar puntos'

;

/* Create Primary Keys, Indexes, Uniques, Checks */

ALTER TABLE `motives` 
 ADD INDEX `IXFK_motives_category` (`id_category` ASC)
;

ALTER TABLE `motives` 
 ADD INDEX `IXFK_motives_role` (`id_role` ASC)
;

/* Create Foreign Key Constraints */

ALTER TABLE `motives` 
 ADD CONSTRAINT `FK_motives_category`
	FOREIGN KEY (`id_category`) REFERENCES `category` (`id`) ON DELETE Restrict ON UPDATE Restrict
;

ALTER TABLE `motives` 
 ADD CONSTRAINT `FK_motives_role`
	FOREIGN KEY (`id_role`) REFERENCES `role` (`id`) ON DELETE Restrict ON UPDATE Restrict
;

SET FOREIGN_KEY_CHECKS=1 
;
